var singlePage=15,winhash=window.location.hash,animationTime=400;function timestamp(t){var a=new Date(parseInt(t));return a.getFullYear().toString()+"/"+(1==(a.getMonth()+1).toString().length?"0"+(a.getMonth()+1).toString():(a.getMonth()+1).toString())+"/"+(1==a.getDate().toString().length?"0"+a.getDate().toString():a.getDate().toString())+" "+(1==a.getHours().toString().length?"0"+a.getHours().toString():a.getHours().toString())+":"+(1==a.getMinutes().toString().length?"0"+a.getMinutes().toString():a.getMinutes().toString())+":"+(1==a.getSeconds().toString().length?"0"+a.getSeconds().toString():a.getSeconds().toString())}paceOptions={elements:!1,restartOnRequestAfter:!1},Pace.start(),$.get("config.json",function(t){$("title").text(t.BlogTitle),$(".usr-name").text(t.BlogName),$("#headface").attr("src",t.BlogHeadFace),_.map(t.contactMe,function(t){$(".usr-icon").append('<a href="'+t.href+'" target="_blank"><img src="'+t.img+'" alt="'+t.alt+'" /></a>')}),_.map(t.extraLinks,function(t){$(".content-list").append('<p><a href="'+t.href+'" target="_blank">'+t.text+"</a></p>")})}),$.get("data.json",function(r){$(".container").show(),Pace.stop();var c=Math.ceil(r.length/singlePage);function f(t){function a(t){var a=_.slice(_.orderBy(r,"time","desc"),(t-1)*singlePage,t*singlePage);_.map(a,function(t){var a=30<t.title.length?t.title.slice(0,30)+"...":t.title;$(".artical-list").append('<li class="list" data-hash="'+t.hash+'"><span class="title">'+a+'</span>&nbsp;<span class="timestamp">'+timestamp(t.time)+"</span></li>"),$(".artical-list").slideDown(animationTime)}),$(".artical-list li").click(function(){window.location.hash="c="+$(this).data("hash")})}function e(t){""==$(".artical-list").html()?a(t):$(".artical-list").slideUp(animationTime,function(){$(this).html(""),a(t)})}$(".artical_content").is(":visible")&&$(".artical_content").removeClass("frameOut frameIn").addClass("frameOut").hide().siblings().show().removeClass("frameOut frameIn").addClass("frameIn");var n=t;1==n&&$("#f_home,#f_pre").addClass("f_ban"),n==c&&$("#f_next,#f_last").addClass("f_ban"),e(n),$("#currentPage").text(n),$("#f_home").click(function(){1!=n&&(n=1,$("#currentPage").text(n),$("#f_home,#f_pre").addClass("f_ban"),$("#f_next,#f_last").removeClass("f_ban"),e(n),window.location.hash="p="+n)}),$("#f_pre").click(function(){1!=n&&(n--,$("#currentPage").text(n),$("#f_next,#f_last").removeClass("f_ban"),1==n&&$("#f_home,#f_pre").addClass("f_ban"),e(n),window.location.hash="p="+n)}),$("#f_next").click(function(){n!=c&&(n++,$("#currentPage").text(n),$("#f_home,#f_pre").removeClass("f_ban"),n==c&&$("#f_next,#f_last").addClass("f_ban"),e(n),window.location.hash="p="+n)}),$("#f_last").click(function(){n!=c&&(n=c,$("#currentPage").text(n),$("#f_home,#f_pre").removeClass("f_ban"),$("#f_next,#f_last").addClass("f_ban"),e(n),window.location.hash="p="+n)})}function t(){var t=window.location.hash,a=t.slice(1,2),e=t.slice(3);if(""==t)f(1);else if("p"==a){var n=1;isNaN(parseInt(e))?window.location.hash="p=1":parseInt(e)>c?window.location.hash="p=1":n=parseInt(e),f(n)}else if("c"==a){var i=_.filter(r,{hash:e})[0];Pace.restart(),$(".toc").show();var s=i.path;$(".artical_home").removeClass("frameOut frameIn").addClass("frameOut").hide().siblings().show().removeClass("frameOut frameIn").addClass("frameIn");var o=window.setInterval(function(){$(".artical_home").is(":animated")||(window.clearInterval(o),$(".artical_home").hide())},300),l=(i.hash,i.title);$("#articalTitle").text(l),$("#timestamp").text(timestamp(i.time)),$.get(s,function(t){Pace.stop();var a=t.split("\n");a.shift(),$("#markdownContent").html(marked(a.join("\n"),{langPrefix:""}))}).then(function(){$("pre code").each(function(t,a){hljs.highlightBlock(a)})})}}$("#totalPage").text(c),window.addEventListener("hashchange",t,!1),t(),$("#blogToc,.toc").click(function(){$(".toc").hide(),$(".artical_content").removeClass("frameOut frameIn").addClass("frameOut").siblings().show().removeClass("frameOut frameIn").addClass("frameIn"),window.location.hash="p=1";var t=window.setInterval(function(){$(".artical_content").is(":animated")||(window.clearInterval(t),$(".artical_content").hide())},300)})}),$(".backtop").css("display",0==$("body").scrollTop()?"none":"block"),window.onscroll=function(){$(".backtop").css("display",0==$("body").scrollTop()?"none":"block")},$(".backtop").click(function(){$("body").animate({scrollTop:0},animationTime)});